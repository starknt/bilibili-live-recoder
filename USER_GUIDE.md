# BLive 用户指南

欢迎使用 BLive！这是一个功能强大的 Bilibili 直播录制工具。本指南将帮助您快速上手并充分利用所有功能。

## 📖 目录

- [快速开始](#快速开始)
- [基本操作](#基本操作)
- [高级功能](#高级功能)
- [设置说明](#设置说明)
- [故障排除](#故障排除)
- [常见问题](#常见问题)

## 🚀 快速开始

### 1. 启动程序

运行编译后的可执行文件，程序会自动启动并显示主界面。

### 2. 添加直播间

1. 在输入框中输入 Bilibili 直播间房间号
2. 点击"添加房间"按钮
3. 房间卡片会出现在主界面中

### 3. 开始录制

1. 找到要录制的房间卡片
2. 点击"开始录制"按钮
3. 录制状态会显示在房间卡片上

## 🎯 基本操作

### 房间管理

- **添加房间**: 输入房间号并点击添加
- **删除房间**: 点击房间卡片上的"删除"按钮
- **查看状态**: 房间卡片显示直播状态和录制状态

### 录制控制

- **开始录制**: 点击"开始录制"按钮
- **停止录制**: 点击"停止录制"按钮
- **查看进度**: 录制状态会实时显示下载速度

### 界面操作

- **主题切换**: 点击设置按钮可以切换明暗主题
- **设置管理**: 通过设置面板调整录制参数

## ⚙️ 高级功能

### 录制设置

#### 录制策略

- **优化CPU占用**: 降低CPU使用率，适合性能较低的设备
- **优化硬盘占用**: 减少硬盘写入，适合硬盘空间有限的设备
- **配置优先**: 优先使用用户配置，适合对录制质量有要求的用户

#### 录制质量

- **杜比**: 最高质量，适合高质量录制
- **4K**: 超高清质量
- **原画**: 原始画质，推荐使用
- **蓝光**: 高质量
- **超清**: 较高质量
- **高清**: 标准质量
- **流畅**: 低质量，适合网络较慢的情况

#### 录制格式

- **FLV**: 传统格式，兼容性好
- **FMP4**: 现代格式，推荐使用
- **TS**: 流媒体格式，适合直播录制

#### 录制编码

- **AVC (H.264)**: 传统编码，兼容性好
- **HEVC (H.265)**: 现代编码，压缩率更高

### 文件管理

#### 自动分P

当录制文件较大时，程序会自动进行分P处理：

1. 第一个文件命名为 `{up_name}_{datetime}.{ext}`
2. 后续文件命名为 `{up_name}_{datetime}_P2.{ext}`, `{up_name}_{datetime}_P3.{ext}` 等
3. 所有分P文件保存在以文件名命名的文件夹中

#### 文件命名规则

文件名支持以下变量：
- `{up_name}`: UP主名称
- `{room_title}`: 房间标题（前10个字符）
- `{datetime}`: 录制时间
- `{date}`: 录制日期
- `{room_id}`: 房间号

### 网络重连

程序具备智能重连功能：

- 网络异常时自动重连
- 使用指数退避算法，避免频繁重连
- 最大重连次数无限制，确保录制连续性
- 重连状态会在界面上显示

## 🔧 设置说明

### 全局设置

点击界面右上角的设置按钮打开设置面板：

#### 录制策略
选择录制策略以优化性能或质量。

#### 录制质量
选择录制画质，影响文件大小和清晰度。

#### 录制格式
选择视频容器格式，影响兼容性和文件大小。

#### 录制编码
选择视频编码格式，影响压缩率和兼容性。

#### 录制目录
设置录制文件的保存路径。

### 房间设置

每个房间可以设置独立的录制参数：

- 质量设置
- 格式设置
- 编码设置
- 录制名称模板

## 🔍 故障排除

### 常见问题

#### 1. 无法添加房间

**可能原因**:
- 房间号输入错误
- 网络连接问题
- 房间不存在或未开播

**解决方法**:
- 检查房间号是否正确
- 检查网络连接
- 确认房间正在直播

#### 2. 录制失败

**可能原因**:
- 网络连接不稳定
- 直播流格式不支持
- 磁盘空间不足

**解决方法**:
- 检查网络连接
- 尝试不同的录制格式
- 检查磁盘空间

#### 3. 文件无法播放

**可能原因**:
- 录制中断导致文件损坏
- 播放器不支持该格式

**解决方法**:
- 使用支持该格式的播放器
- 尝试转换文件格式

### 日志查看

程序会生成详细的日志文件：

- **位置**: `logs/` 目录
- **内容**: 录制状态、错误信息、调试信息
- **用途**: 故障诊断和问题排查

## ❓ 常见问题

### Q: 支持哪些操作系统？
A: 支持 Windows 10+、macOS 10.15+、Linux (Ubuntu 18.04+)

### Q: 需要安装 FFmpeg 吗？
A: 不需要，程序会自动下载和配置 FFmpeg

### Q: 可以同时录制多个房间吗？
A: 可以，程序支持多房间同时录制

### Q: 录制文件保存在哪里？
A: 默认保存在用户视频目录下的 `blive` 文件夹中，可以在设置中修改

### Q: 支持哪些画质？
A: 支持杜比、4K、原画、蓝光、超清、高清、流畅等多种画质

### Q: 网络断开会影响录制吗？
A: 程序具备自动重连功能，网络恢复后会自动继续录制

### Q: 如何修改录制文件命名规则？
A: 在房间设置中可以自定义录制文件命名模板

## 📞 技术支持

如果您遇到问题或需要帮助：

1. 查看本用户指南
2. 检查日志文件
3. 在 GitHub 上创建 Issue
4. 联系项目维护者

---

**注意**: 请遵守 Bilibili 的服务条款和相关法律法规，仅用于个人学习和合法用途。
